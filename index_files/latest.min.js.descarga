!function(){"use strict";var n="__lytics__jstag__",I=window,d=I.document;function s(e,t,n){var o=-1,i=e.length;for(2===arguments.length&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function g(o,i){return s(o,function(e,t,n){return i(t,n,o)&&e.push(t),e},[])}function h(o,i){return s(o,function(e,t,n){return e.push(i(t,n,o)),e},[])}var e=function(){var e=d.getElementsByTagName("script"),t=[].slice.call(e),n=d.getElementsByTagName("meta"),o=[].slice.call(n),i=g(h(t.concat(o),function(e){return e.getAttribute("data-lytics-global")}),Boolean);if(1<i.length)throw new Error("This page specified more than one data-lytics-global attribute. You should put the attribute on either a meta tag, or the script element itself, but not both");return 1===i.length?i[0]:"jstag"}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function m(e,t){for(var n=0,o=e.length;n<o;n++)t(e[n],n,e)}function l(e){var t=[];for(var n in e)t.push(n);return t}var u=Object.keys||function(t){return g(l(t),function(e){return{}.hasOwnProperty.call(t,e)})};function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(t,function(t,n){return void 0===n||m(u(n),function(e){t[e]=n[e]}),t})}var t=function(){function t(e){a(this,t),this.instance=e.instance}return r(t,[{key:"ns",value:function(e){return this.namespace=e,this}},{key:"expose",value:function(e){v(this.instance,e),m(u(e),function(e){Sn.util.method(e)})}},{key:"hold",value:function(e){v(this.constructor.prototype,e)}}]),t}();function f(e,t,n){var o=document.createElement("script");o.async=!0,o.src=e,o.onload=t,o.onerror=n;var i=document.getElementsByTagName("script")[0],a=i&&i.parentNode||document.head||document.body,r=i||a.lastChild;return null!=r?a.insertBefore(o,r):a.appendChild(o),this}function i(e){return e(new t({instance:this}),this,this.config)}function y(){for(var t=void 0,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var i=0,a=n.length;i<a;i++)try{return n[i](t)}catch(e){t=e}}var c=I.top,p=I.parent;function b(e,t,n){return v((2<arguments.length&&void 0!==n?n:d).createElement(e),t)}var w=I.location;function k(e){return s(e,function(e,t){return e[t[0]]=t[1],e},{})}function E(e){return"string"==typeof e}function _(e){var n=b("a",{href:e}),t=k(h(g(l(n),function(e){var t=y(function(){return n[e]});return null!=t&&E(t)}),function(e){return[e,n[e]]}));return""!==t.protocol&&":"!==t.protocol||(t.protocol=w.protocol),null==t.origin&&(t.origin=function(e){return e.protocol+"//"+e.hostname+function(e){return null==e.port||"https:"===e.protocol&&"443"===e.port||"http:"===e.protocol&&"80"===e.port?"":":"+e.port}(e)}(t)),t}var S=I.decodeURIComponent;function T(e){return"[object Array]"==={}.toString.call(e)}function x(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function P(e){var i={};return"string"!=typeof e||(e=x(e).replace(/^(\?|#|&)/,""))&&m(e.split("&"),function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),o=0<t.length?t.join("="):void 0;n=S(n),o=void 0===o?null:S(o),void 0===i[n]?i[n]=o:T(i[n])?i[n].push(o):i[n]=[i[n],o]}),i}function A(){return"u_"+Math.floor(1e18*Math.random())}function C(e){if(Array.isArray(e))return e}function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function N(e,t){return C(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(o=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||D()}function O(e,t){e.ns("lifecycle"),e.expose({setUp:function(){e.emit("lifecycle.setup.requested"),t.consentBlocked||e.emit("lifecycle.setup.done")},tearDown:function(){e.emit("lifecycle.teardown.requested"),e.emit("lifecycle.teardown.done")}})}var U=[],L=I.setTimeout;function j(e,t){for(var n=arguments.length,o=new Array(2<n?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=L(function(){e.apply(void 0,o)},t);return U.push(a),a}function F(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];j.apply(void 0,[e,0].concat(n))}function z(e){return function(){null!=e&&(e.apply(void 0,arguments),e=null)}}function M(e,t){return 0===e.indexOf(t)}function B(e,t){return R(e,"channel"),R(t,"namespace"),e===t||M(e,"".concat(t,"."))}function R(e,t){if(null==e)throw new Error("You must provide a ".concat(t," (`").concat(String(e),"` was passed instead)"))}function q(a,e){var r;function t(){r=[]}function n(e,t){if("function"!=typeof t)throw new TypeError("listener is not a function!");return z(function(e,t){var n={topic:e,pattern:function(e){return new RegExp("^".concat(function(e){return String(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}(e).replace(/\\[*]/g,"(.*?)"),"$"))}(e),listener:t};return r.push(n),function(){r=g(r,function(e){return e!==n})}}(e,t))}a.ns("emitter"),t(),a.hold({emit:function(o){for(var e=arguments.length,i=new Array(1<e?e-1:0),t=1;t<e;t++)i[t-1]=arguments[t];var n=this.namespace;if(null==n||0===n.length)throw new Error("You must define an event namespace!");if(n&&!B(o,n))throw new Error("Event name must match event namespace! ".concat(o," ").concat(n));return 0<r.length&&m(r,function(e){var t=e.pattern,n=e.listener;t.test(o)&&y(function(){n.apply(void 0,[o].concat(i))},function(e){a.carp(e)})}),a}}),a.expose({on:function(e,t){return n(e,t)},once:function(e,i){var a=n(e,function(e){a();for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.apply(void 0,[e].concat(n))});return a}}),e.once("lifecycle.teardown.done",function(){F(t)})}function K(e,t,n){e.ns("audit.carp"),e.defaults({audit:{carp:void 0}}),null!=n.audit.carp&&t.on("*.carp",n.audit.carp),e.hold({carp:function(e){this.emit("".concat(this.namespace,".carp"),e)}})}var V=I.encodeURIComponent;function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e){return(Y="function"==typeof Symbol&&"symbol"===G(Symbol.iterator)?function(e){return G(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":G(e)})(e)}function H(e){return e&&"object"===Y(e)}function Q(e){return"function"==typeof e}function W(e){if("object"!==Y(e)||null===e||""+e!="[object Object]")return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function J(o,e,t,n){var i=!(1<arguments.length&&void 0!==e)||e,a=2<arguments.length&&void 0!==t?t:"",r=3<arguments.length&&void 0!==n&&n,c=[];return H(o)?T(o)?(c.push(a+"_len="+o.length,a+"_json="+V(JSON.stringify(o))),m(o,function(e){c.push(J(e,i,a,r))})):i&&!W(o)||m(u(o),function(e){var t=V(e),n=o[e];Q(n)||(""!==a&&(t=[a,t].join(".")),H(n)?c.push(J(n,i,r?e:t,r)):(E(n)&&0<n.length||null!=n)&&c.push(t+"="+V(n)))}):c.push(a+"="+o),c.filter(Boolean).join("&")}function $(e){return J(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1],2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",!1)}var Z=Object.freeze||Object,X=Z({default:$,legacy:function(e){return J(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",!0)}});function ee(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function te(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ne(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t,n){return(ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t){return-1!==function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}(e,t)}var ce=function(){function n(e){var t=this;a(this,n),this.register=[],m(e,function(e){t.sign(e)})}return r(n,[{key:"sign",value:function(e){return!re(this.register,e)&&(this.register.push(e),!0)}}]),n}();function se(e){return function i(a,r,c){return s(u(a),function(e,t){var n=a[t],o=r.concat(t);return pe(n)?e.push(new de(o)):n instanceof le?e.push(new fe(o)):c.sign(n)&&e.push.apply(e,te(i(n,o,c))),e},[])}(e,[],new ce([e]))}var le=function e(t){a(this,e),this.content=t};function ue(e){return new le(e)}var de=function(){function s(e){a(this,s),this.path=e,this.leaf=e[e.length-1]}return r(s,[{key:"parent",value:function(e){for(var t=this.path,n=e,o=0,i=t.length-1;o<i;o++)if(null==(n=n[t[o]]))return n;return n}},{key:"has",value:function(e){var t=this.parent(e);return t&&this.leaf in t}},{key:"get",value:function(e){if(0===this.path.length)return e;var t=this.parent(e);return null==t?t:t[this.leaf]}},{key:"set",value:function(e,t){var n=this.parent(e);return null==n?n:n[this.leaf]=t}},{key:"copy",value:function(e,t){var n=this.shimParent(e,t);return null==n?n:this.set(e,this.get(t))}},{key:"shimParent",value:function(e,t){var n,o=this.path;if(1==o.length)return e;for(var i=0,a=o.length;i<a;i++){var r=new s(o.slice(0,i));n=r.get(e);var c=r.get(t);null==n&&(n=r.set(e,Array.isArray(c)?[]:{}))}return n}}]),s}(),fe=function(){function n(){return a(this,n),ne(this,oe(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(n,de),r(n,[{key:"set",value:function(e,t){ie(oe(n.prototype),"set",this).call(this,e,t.content)}}]),n}();function pe(e){if(null==e||"object"!==Y(e)&&"function"!=typeof e)return!0;for(var t in e)if({}.hasOwnProperty.call(e,t))return!1;return!0}function ge(n){return s(u(n),function(e,t){return e.push([t,n[t]]),e},[])}function he(e,t){return k(g(ge(e),t))}function me(e,t){return h(function(o,i){return s(o,function(e,t,n){return e[i(t,n,o)?0:1].push(t),e},[[],[]])}(ge(e),t),k)}var ve="3.0.54",ye="seerid",be="seerses";function we(r,e,n){r.ns("config"),r.hold({defaults:function(e){var n=this;if(null==this.namespace)throw new Error("You need to claim a namespace before setting defaults!");var t=N(me(e,function(e){var t=N(e,1)[0];return B(n.namespace,t)}),2),o=t[0],i=t[1];for(var a in s(o,c(o)),s(i,c(i)),i)r.carp("Setting config options out of namespace is not currently supported as well as we'd like! `".concat(a,"`"))}});var t=[];function c(t){return function(e){e.has(n)||e.copy(n,t)}}function s(e,t){m(se(e),t)}r.hold({bogart:function(){t.push.apply(t,arguments)},ns:function(e){if(re(t,e))throw new Error("Cannot use contested namespace: `".concat(e,"`"));return this.bogart(e),this.namespace=e,this}});var o={url:"https://c.lytics.io",location:w.href,payloadQueue:[],id:void 0,cid:void 0,loadid:!1,serializer:$,delay:2e3,blocked:!1,path:"/c/",idpath:"/cid/",cookie:ye,sesname:be,stream:void 0,sessecs:1800,qsargs:[],tagid:"jstag-csdk",pagedata:{},byFieldKey:"_uid",version:ve};s(o,c(o)),m(u(o),function(e){r.bogart(e)}),null!=n.cid&&(n.cid=[].concat(n.cid))}function ke(e,t){return e+(-1!==e.indexOf("?")?"&":"?")+t}function Ee(n){n.ns("jsonp"),n.expose({jsonp:function(e,t){return n.emit("jsonp.requested",e),function(e,t){var n=A(),o=b("script",{src:ke(e,"callback="+n)});I[n]=z(function(){I[n]=void 0,y(function(){d.body.removeChild(o)}),o=void 0,t.apply(void 0,arguments)}),(d.head||d.body).appendChild(o)}(e,function(){n.emit("jsonp.loaded",e),t.apply(void 0,arguments)}),this}})}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){_e(t,e,n[e])})}return t}function Te(l,e,u){l.ns("iframeTransport"),l.defaults({iframeTransport:{timeout:3e4}}),l.expose({iframe:function(t,n){n=z(n);var o=d.head||d.body,i=_(t.url).origin,a=Date.now(),r=z(function(e){l.emit(e),l.emit("iframeTransport.done",Se({},t,{elapsed:Date.now()-a}))}),c=j(function(){l.carp("Timeout! iframe transport request timed out"),o.removeChild(s),r("iframeTransport.failed"),n(null)},t.timeout||u.iframeTransport.timeout),s=b("iframe",{src:t.url,onload:function(){this.onload=void 0,window.addEventListener("message",{handleEvent:function(e){e.origin===i&&(window.removeEventListener("message",this),clearTimeout(c),o.removeChild(s),r("iframeTransport.succeeded",Date.now()-a),n(e.data))}});var e=t.data&&y(function(){return JSON.stringify(t.data)},function(e){l.carp(e)});s.contentWindow.postMessage({payload:e},i)}});s.style.display="none",o.appendChild(s)}})}function Ie(e,t,n){e.ns("config.moarConfig");var o=n.moarConfig;null!=o&&m(se(o),function(e){e.has(n)||e.copy(n,o)})}function xe(e){var t=new RegExp(e+"=([^;]+)").exec(decodeURIComponent(d.cookie));return t&&t[1]}function Pe(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t}(3<arguments.length&&void 0!==arguments[3]?arguments[3]:31536e4),i="".concat(e,"=").concat(V(t),"; path=/").concat(n&&1<n.split(".").length?"; domain=".concat(n):"").concat(o?"; expires=".concat(o.toUTCString()):"");d.cookie=i}function Ae(e,t){Pe(e,"",t,-1e3)}var Ce=function(e,t){return(1<arguments.length&&void 0!==t?t:location.origin).split(":")[1].endsWith(e)?e:""};function De(i,e,a){i.ns("cookies"),i.defaults({cookies:{domain:_("".concat(location)).hostname}}),i.expose({getCookie:function(e){var t=xe(e);return i.emit("cookies.read",e),t},setCookie:function(e,t,n){var o=Ce(a.cookies.domain);""===o&&""!==a.cookies.domain&&i.carp("domain mismatch: ".concat(a.cookies.domain)),Pe(e,t,o,n),i.emit("cookies.written",e)},deleteCookie:function(e){Ae(e,a.cookies.domain),i.emit("cookies.deleted",e)},clearCookies:function(){var e=a.cookie,t=a.sesname,n=a.cookies.domain;Ae(e,n),Ae(t,n),i.emit("cookies.cleared")},getCookieValue:function(){return function(){return xe(this.config.cookie)}.call(this)}})}function Ne(e,t){return new de(t).get(e)}var Oe=Z({croaked:!0,toString:function(){return"CROAK"}});function Ue(e,t,n){e.ns("audit.mustEnable"),e.expose({use:function(e){try{return i.call(this,e)}catch(e){if(e!==Oe)throw e}return this}}),e.hold({mustEnable:function(){if(null==this.namespace)throw new Error("You must claim a namespace before using .mustEnable()!");var e=Ne(n,this.namespace.split("."));if(null==e||e.disabled)throw this.carp("Plugin disabled by configuration"),Oe}})}var Le=function(){function t(e){a(this,t),this.name="Form",this.config=e}return r(t,[{key:"send",value:function(o,i){var a=this,r=b("iframe",{id:A()});r.style.display="none",d.body.appendChild(r),F(function(){var e=r.contentWindow.document,t=b("form",{action:o,method:"post"},e),n=b("input",{value:i.dataMsg,type:"hidden",name:"_js"},e);t.appendChild(n),e.body.appendChild(t),t.submit(),j(function(){y(function(){d.body.removeChild(r)}),Q(i.callback)&&i.callback()},a.config.delay)})}}]),t}(),je=function(){function t(e){a(this,t),this.name="Gif",this.config=e}return r(t,[{key:"send",value:function(e,t){var n=new Image,o=z(t.callback);j(n.onload=o,this.config.delay),n.src=ke(e,t.dataMsg)}}]),t}();function Fe(a,r,c){a.ns("collect"),a.defaults({collect:{plainObjectsOnly:!0,forceFormTransport:!1}}),a.hold({getTransport:function(e,t){return c.collect.forceFormTransport||2e3<e.dataMsg.length+t.length?new Le(c):new je(c)}}),a.expose({collect:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];a.emit("collect.started",e);var o=function(e){return"string"==typeof e?X[e]:e}(c.serializer);if(null==o)return a.carp('"'.concat(c.serializer,'" is not a recognized serializer')),void a.emit("collect.failed");if(e.dataMsg=o(e.data,c.collect.plainObjectsOnly),e.sendurl||(e.sendurl=[]),e.sendurl.unshift(t),n)F(e.callback,e,r);else{var i=a.getTransport(e,t);e.channelName=i.name,i.send(t,v({},e,{callback:function(){Q(e.callback)&&e.callback(e,r),a.emit("collect.finished",e)}}))}}})}var ze=I.navigator,Me=I.screen;function Be(e){return e.replace(/^https?:\/\//,"")}function Re(s,l,e){s.ns("pageAnalysis"),s.defaults({pageAnalysis:{disabled:void 0,collectQueryParams:void 0}}),s.defaults({pageAnalysis:{dataLayerPull:{disabled:!!e.pageAnalysis.disabled},performPageAnalysis:!e.pageAnalysis.disabled,collectQueryParams:!!e.pageAnalysis.collectQueryParams}}),s.mustConsent({pageAnalysis:function(){if(l.consentBlocked)s.carp("Instance blocked");else{var n=l.config,e=l.getCookie(n.sesname),t=l.pageData,o=_(n.location);if(0<o.search.length){var i=P(o.search);v(t,he(i,function(e){return M(N(e,1)[0],"utm_")})),n.qsargs&&0<n.qsargs.length&&v(t,he(i,function(e){var t=N(e,1)[0];return re(n.qsargs,t)})),n.pageAnalysis.collectQueryParams&&v(t,i)}e||(t._sesstart="1");var a=this.referrer;if(a&&0<a.length){var r=/\/\/(.*)\//.exec(a);if(r&&!re(r[1],w.host)){var c=Be(a);t._ref=c,e||(t._sesref=c)}}l.setCookie(n.sesname,"e",n.sessecs),t._tz=parseInt("".concat(-(new Date).getTimezoneOffset()/60),10),t._ul=ze.language||ze.userLanguage,function(){var e="".concat(new Date);try{localStorage.setItem(e,e);var t=localStorage.getItem(e)===e;return localStorage.removeItem(e),t}catch(e){return!1}}()||(t._no_storage="1"),Me&&(t._sz=Me.width+"x"+Me.height),this.pageData=t,s.emit("pageAnalysis",t)}}}),e.pageAnalysis.performPageAnalysis&&(l.once("lifecycle.setup.requested",function(){l.pageData={},l.pageAnalysis()}),e.pageAnalysis.dataLayerPull.disabled||s.pullIntegration({success:function(e){v(e,l.pageData)}}))}var qe,Ke,Ve=ze.userAgent;function Ge(e,t,n){if(function(){var e=ze.userAgent||ze.vendor||I.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4))}()){e._mob="t";var o="unknown";/Android/i.test(Ve)?o="Android":/BlackBerry/i.test(Ve)?o="Blackberry":/iPhone|iPad|iPod/i.test(Ve)?o="IOS":/IEMobile/i.test(Ve)&&(o="WinMobile"),e._device=o}else e._nmob="t",e._device="desktop";e.url=Be(w.href),y(function(){return I.self!==I.top},function(){return!0})&&(e._if="t");var i=n.config.byFieldKey;i in e&&!e[i]&&delete e._uid;var a=n.getCookie("_ga");null!=a&&0<a.length&&(e._ga=a),i in e||t&&t.length&&(e[i]=t);var r=n.getCookie("optimizelyEndUserId");r&&(e.optimizelyid=r),"_v"in e||(e._v=ve),n&&n.changeId&&(e._uido=n.changeId)}function Ye(e){return e.replace(/\/$/,"")}function He(e,t,n){var o=2<arguments.length&&void 0!==n?n:"path";return""+Ye(e.url)+e[o]+t}function Qe(e){var t,n,o;return m(e,function(e){switch(Y(e)){case"string":t=e;break;case"function":o=e;break;case"object":n=W(e)||T(e)?v({},e):e;break;case"boolean":!function(e){console.warn("Deprecation warning: "+e)}("boolean argument is passed to send. Ignoring.");break;default:throw new TypeError("unable to process jstag.send event: unknown value type ("+Y(e)+")")}}),null==n&&(n={}),{stream:t,data:n,callback:o}}function We(){return(new Date).getTime()}function Je(e,t){var n=z(t);if(0===e){var o=n;return o.times=0,o}var i=function(){++i.times===e&&n()};return i.times=0,i}function $e(o,i,a){o.ns("send"),o.defaults({send:{pageViewOnFirst:!1}});var r=0;function c(e){var t=Qe(e);return t.data=v({_e:"pv"},i.pageData,t.data),t}o.hold({flushPayloadQueue:function(){var e=i.config.payloadQueue.length,t=Je(e,function(){o.emit(qe.UNBLOCKED,e),i.setUp()});return 0===e?t():(m(i.config.payloadQueue,function(e){i.sendMessage(Se({},e,{callback:function(){null!=e.callback&&e.callback.apply(e,arguments),i.once("collect.finished",t)}}))}),i.config.payloadQueue.length=0),i}}),o.expose({send:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0==r++&&a.send.pageViewOnFirst){var o=c(t);i.sendMessage(o)}else i.sendMessage(Qe(t))},identify:function(){i.send.apply(i,arguments)},page:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=c(t);i.sendMessage(o)},pageView:function(){i.page.apply(i,arguments)},mock:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=Qe(t);o.data=v({_e:"mk"},i.pageData,o.data),i.sendMessage(o,!0)},unblock:function(n){if(null!=n&&i.once(qe.UNBLOCKED,function(e,t){return n(t)}),!i.blocked)return i;i.blocked=i.config.blocked=!1,o.flushPayloadQueue()},parseEvent:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qe(t)},sendMessage:function(n,e){var o=1<arguments.length&&void 0!==e&&e;if(!a.url||!a.cid)throw new TypeError("Must have collection url and ProjectIds (cid)");if(i.blocked&&!o||i.consentBlocked)a.payloadQueue.push(n);else{if(o){if(null==n.callback)throw new TypeError("cannot call mock without a callback");var t=n.data;m(a.payloadQueue,function(e){v(t,e.data)})}n.stream||(n.stream=a.stream),m(this.config.cid,function(e){var t=He(a,e)+(n.stream?"/"+n.stream:"");-1===t.indexOf("_uidn=")&&a.cookie!==ye&&(t=ke(t,"_uidn="+a.cookie)),n.data._ts=We(),i.getid(function(e){Ge(n.data,e,i),i.collect(n,t,o)})})}}}),o.pullIntegration({success:function(e){v.apply(void 0,[e].concat(te(a.payloadQueue.map(function(e){return e.data}))))}}),o.pushIntegration({success:function(){i.unblock()}})}function Ze(i,a,t){i.ns("consent"),i.defaults({consent:{disabled:!0}}),i.hold({mustConsent:function(e){i.expose(t.consent.disabled?e:k(ge(e).map(function(e){var t=N(e,2),n=t[0],o=t[1];return[n,function(){if(a.consentBlocked)return i.emit("consent.noCall"),void i.carp("Consent not enabled, cannot call method");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(a,t)}]})))}}),i.expose({optIn:function(e){a.consentBlocked?(i.emit("consent.accepted"),e&&a.once("lifecycle.setup.done",function(){a.send(Se({consent:!0},e))}),a.consentBlocked=!1,i.flushPayloadQueue()):i.carp("Consent not enabled, instance not blocked")},optOut:function(){a.consentBlocked?i.carp("Consent not enabled, cannot block instance"):(i.emit("consent.notAccepted"),a.consentBlocked=!0,a.clearCookies(),a.tearDown())}}),a.consentBlocked=!1,i.mustEnable(),a.consentBlocked=!0,a.getid(function(e){if(null!=e)return i.carp("The cookie exists already, so we infer consent was given"),void a.optIn();a.once("lifecycle.setup.requested",function(){i.emit("consent.blocked")})})}(qe||(qe={})).UNBLOCKED="send.unblocked";var Xe=new Uint8Array(16),et=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function tt(e){return"string"==typeof e&&et.test(e)}for(var nt=[],ot=0;ot<256;++ot)nt.push((ot+256).toString(16).substr(1));function it(e,t){var n=1<arguments.length&&void 0!==t?t:0,o=(nt[e[n+0]]+nt[e[n+1]]+nt[e[n+2]]+nt[e[n+3]]+"-"+nt[e[n+4]]+nt[e[n+5]]+"-"+nt[e[n+6]]+nt[e[n+7]]+"-"+nt[e[n+8]]+nt[e[n+9]]+"-"+nt[e[n+10]]+nt[e[n+11]]+nt[e[n+12]]+nt[e[n+13]]+nt[e[n+14]]+nt[e[n+15]]).toLowerCase();if(!tt(o))throw TypeError("Stringified UUID is invalid");return o}function at(e,r,c){function t(e,t,n,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof t&&(t=function(e){if(!tt(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}(t)),16!==t.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+e.length);if(i.set(t),i.set(e,t.length),(i=c(i))[6]=15&i[6]|r,i[8]=63&i[8]|128,n){o=o||0;for(var a=0;a<16;++a)n[o+a]=i[a];return n}return it(i)}try{t.name=e}catch(e){}return t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t}function rt(e){return 14+(e+64>>>9<<4)+1}function ct(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function st(e,t,n,o,i,a){return ct(function(e,t){return e<<t|e>>>32-t}(ct(ct(t,e),ct(o,a)),i),n)}function lt(e,t,n,o,i,a,r){return st(t&n|~t&o,e,t,i,a,r)}function ut(e,t,n,o,i,a,r){return st(t&o|n&~o,e,t,i,a,r)}function dt(e,t,n,o,i,a,r){return st(t^n^o,e,t,i,a,r)}function ft(e,t,n,o,i,a,r){return st(n^(t|~o),e,t,i,a,r)}function pt(e,t,n){var o=(e=e||{}).random||(e.rng||function(){if(!Ke&&!(Ke="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ke(Xe)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return it(o)}function gt(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:return t^n^o;case 2:return t&n^t&o^n&o;case 3:return t^n^o}}function ht(e,t){return e<<t|e>>>32-t}function mt(r,c,s){r.ns("getid"),r.defaults({getid:{uuid:pt,useSimpleUid:!1,getter:void 0}}),r.expose({getid:function(e){t.getter?Promise.resolve(t.getter()).then(function(e){if(e)return e;throw new Error("getid getter returned no id")}).catch(function(e){throw r.carp("Getter failed! Could not get id."),e}).then(e):function(n){if(c.once("getid",function(e,t){return n(t)}),!u){u=!0;var t=z(function(e){u=!1,!e&&s.consent.disabled&&(e=l()),function(e){var t=c.getCookieValue();t&&t.length&&(c.changeId=t),c.setCookie(s.cookie,e)}(e),r.emit("getid",e)}),o=c.getCookieValue();if(o&&o.length){var i=function(e,t){var n,o=!1,i=e.once(t,function(e,t){o=!0,n=t});return function(){return i(),{fired:o,captured:n}}}(c,"cookies.cleared");F(function(){if(i().fired){var e=c.getCookieValue();e?t(e):a()}else t(o)})}else s.consent.disabled||!c.consentBlocked?a():(r.carp("no id, instance blocked"),u=!1,r.emit("getid",null))}function a(){s.loadid?function(t,n){var e=t.config,o=He(e,e.cid[0],"idpath")+"?assign=false";t.jsonp(o,function(e){return n.call(t,e)})}(c,t):F(function(){return t(l())})}}(e)}});var t=s.getid,e="crypto"in window&&null!=window.crypto&&"function"==typeof window.crypto.getRandomValues&&!t.useSimpleUid?t.uuid:A,l=function(){return y(e,A)},u=!1}at("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,o="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,r=parseInt(o.charAt(a>>>4&15)+o.charAt(15&a),16);t.push(r)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[rt(t)-1]=t;for(var n=1732584193,o=-271733879,i=-1732584194,a=271733878,r=0;r<e.length;r+=16){var c=n,s=o,l=i,u=a;n=lt(n,o,i,a,e[r],7,-680876936),a=lt(a,n,o,i,e[r+1],12,-389564586),i=lt(i,a,n,o,e[r+2],17,606105819),o=lt(o,i,a,n,e[r+3],22,-1044525330),n=lt(n,o,i,a,e[r+4],7,-176418897),a=lt(a,n,o,i,e[r+5],12,1200080426),i=lt(i,a,n,o,e[r+6],17,-1473231341),o=lt(o,i,a,n,e[r+7],22,-45705983),n=lt(n,o,i,a,e[r+8],7,1770035416),a=lt(a,n,o,i,e[r+9],12,-1958414417),i=lt(i,a,n,o,e[r+10],17,-42063),o=lt(o,i,a,n,e[r+11],22,-1990404162),n=lt(n,o,i,a,e[r+12],7,1804603682),a=lt(a,n,o,i,e[r+13],12,-40341101),i=lt(i,a,n,o,e[r+14],17,-1502002290),o=lt(o,i,a,n,e[r+15],22,1236535329),n=ut(n,o,i,a,e[r+1],5,-165796510),a=ut(a,n,o,i,e[r+6],9,-1069501632),i=ut(i,a,n,o,e[r+11],14,643717713),o=ut(o,i,a,n,e[r],20,-373897302),n=ut(n,o,i,a,e[r+5],5,-701558691),a=ut(a,n,o,i,e[r+10],9,38016083),i=ut(i,a,n,o,e[r+15],14,-660478335),o=ut(o,i,a,n,e[r+4],20,-405537848),n=ut(n,o,i,a,e[r+9],5,568446438),a=ut(a,n,o,i,e[r+14],9,-1019803690),i=ut(i,a,n,o,e[r+3],14,-187363961),o=ut(o,i,a,n,e[r+8],20,1163531501),n=ut(n,o,i,a,e[r+13],5,-1444681467),a=ut(a,n,o,i,e[r+2],9,-51403784),i=ut(i,a,n,o,e[r+7],14,1735328473),o=ut(o,i,a,n,e[r+12],20,-1926607734),n=dt(n,o,i,a,e[r+5],4,-378558),a=dt(a,n,o,i,e[r+8],11,-2022574463),i=dt(i,a,n,o,e[r+11],16,1839030562),o=dt(o,i,a,n,e[r+14],23,-35309556),n=dt(n,o,i,a,e[r+1],4,-1530992060),a=dt(a,n,o,i,e[r+4],11,1272893353),i=dt(i,a,n,o,e[r+7],16,-155497632),o=dt(o,i,a,n,e[r+10],23,-1094730640),n=dt(n,o,i,a,e[r+13],4,681279174),a=dt(a,n,o,i,e[r],11,-358537222),i=dt(i,a,n,o,e[r+3],16,-722521979),o=dt(o,i,a,n,e[r+6],23,76029189),n=dt(n,o,i,a,e[r+9],4,-640364487),a=dt(a,n,o,i,e[r+12],11,-421815835),i=dt(i,a,n,o,e[r+15],16,530742520),o=dt(o,i,a,n,e[r+2],23,-995338651),n=ft(n,o,i,a,e[r],6,-198630844),a=ft(a,n,o,i,e[r+7],10,1126891415),i=ft(i,a,n,o,e[r+14],15,-1416354905),o=ft(o,i,a,n,e[r+5],21,-57434055),n=ft(n,o,i,a,e[r+12],6,1700485571),a=ft(a,n,o,i,e[r+3],10,-1894986606),i=ft(i,a,n,o,e[r+10],15,-1051523),o=ft(o,i,a,n,e[r+1],21,-2054922799),n=ft(n,o,i,a,e[r+8],6,1873313359),a=ft(a,n,o,i,e[r+15],10,-30611744),i=ft(i,a,n,o,e[r+6],15,-1560198380),o=ft(o,i,a,n,e[r+13],21,1309151649),n=ft(n,o,i,a,e[r+4],6,-145523070),a=ft(a,n,o,i,e[r+11],10,-1120210379),i=ft(i,a,n,o,e[r+2],15,718787259),o=ft(o,i,a,n,e[r+9],21,-343485551),n=ct(n,c),o=ct(o,s),i=ct(i,l),a=ct(a,u)}return[n,o,i,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(rt(t)),o=0;o<t;o+=8)n[o>>5]|=(255&e[o/8])<<o%32;return n}(e),8*e.length))}),at("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var i=0;i<o.length;++i)e.push(o.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,r=Math.ceil(a/16),c=new Array(r),s=0;s<r;++s){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*s+4*u]<<24|e[64*s+4*u+1]<<16|e[64*s+4*u+2]<<8|e[64*s+4*u+3];c[s]=l}c[r-1][14]=8*(e.length-1)/Math.pow(2,32),c[r-1][14]=Math.floor(c[r-1][14]),c[r-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<r;++d){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=c[d][p];for(var g=16;g<80;++g)f[g]=ht(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);for(var h=n[0],m=n[1],v=n[2],y=n[3],b=n[4],w=0;w<80;++w){var k=Math.floor(w/20),E=ht(h,5)+gt(k,m,v,y)+b+t[k]+f[w]>>>0;b=y,y=v,v=ht(m,30)>>>0,m=h,h=E}n[0]=n[0]+h>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});var vt=function(){function t(e){a(this,t),this.data=e}return r(t,[{key:"getAt",value:function(e){return Ne(this.data,e)}},{key:"toLegacyStyle",value:function(){return this.data.user}}],[{key:"fromPayload",value:function(e){return new t(e.data)}},{key:"fromLegacyPayload",value:function(e){return new t(function(e){return{user:e}}(e.data))}}]),t}(),yt=Z(["all"]);function bt(n,e,o){n.ns("segments"),n.defaults({segments:{disabled:!1,storageKey:"lytics_segments",storage:ue(localStorage),defaultSegments:ue(yt)}}),n.mustEnable();var i=void 0;n.pushIntegration({success:function(e){if(null==(i=e.getSegments()))return n.carp("Entity has no segments! Falling back to the default segments!"),void(i=o.segments.defaultSegments);var t=y(function(){return JSON.stringify(i)});null!=t&&o.segments.storage.setItem(o.segments.storageKey,t)}}),n.expose({loadSegments:function(t){e.loadEntity(function(e){t(e.getSegments())})},getSegments:function(){return y(function(){if(null==i){var e=o.segments.storage.getItem(o.segments.storageKey);if(null==e)throw new Error("Segments not loaded! Failing over to default segments");i=JSON.parse(e)}return i},function(e){return n.carp(e),i=o.segments.defaultSegments})}}),e.once("lifecycle.teardown.requested",function(){n.emit("segments.storageCleared"),localStorage.removeItem(o.segments.storageKey)}),vt.prototype.getSegments=function(){var e=this.data;return null==e||null==e.user?o.segments.defaultSegments:g(this.data.user.segments,function(e){return"not_found"!==e||(n.carp("`not_found` segment detected and filtered!"),!1)})}}function wt(t,i,s){var o;t.ns("entity"),t.defaults({entity:{format:"default",endpoint:void 0,table:"user",byFieldKey:s.byFieldKey,byFieldValue:void 0,preload:!1}});var a=!1;function r(e){e||(console.warn("no entity found! Failing over using the default entity!"),e={data:s.segments?{segments:s.segments.defaultSegments}:{}}),o=vt[l()?"fromLegacyPayload":"fromPayload"](e),a=!1,t.emit("entity.loaded",o)}function c(e){r(y(function(){return{data:JSON.parse(e)}}))}function l(){return"legacy"===s.entity.format}function u(e,t,n){e=function(e){var t=e.toUpperCase();if(!re(["GET","POST"],e))throw new Error("The method ".concat(e," is not supported!"));return t}(e);var o=s.entity.byFieldKey,i=s.entity.byFieldValue||n,a=function(e,t,n,o){var i=[];return l()?(i.push(Ye(e.url)),i.push("api/me"),"GET"!==t&&i.push("iframe"),i.push(e.cid[0]),i.push(n),i.push(o)):(i.push(Ye(e.url)),i.push("api/personalize"),i.push(e.cid[0]),i.push(e.entity.table),i.push(n),i.push(o),"GET"!==t&&i.push("iframe")),i}(s,e,o,i),r=!1,c=t&&y(function(){var e=encodeURIComponent(JSON.stringify(v(_e({},o,i),t)));return r=!0,e});return ke(s.entity.endpoint?s.entity.endpoint:Ye(a.join("/")),g(["segments=true",null!=s.stream&&"default"!==s.stream&&"stream=".concat(s.stream),null!=s.entity.fields&&"fields=".concat(s.entity.fields.join(",")),r&&"mergestate=true",r&&"GET"===e&&"state=".concat(c),"ts=".concat(We())],Boolean).join("&"))}t.mustConsent({loadEntity:function(n,o){if(1===arguments.length&&"function"==typeof n){var e=[n,o];o=e[0],n=e[1]}null!=o&&i.once("entity.loaded",function(e,t){return o(t)}),a?t.carp("Entity is already in flight! Not sending another request!"):(a=!0,t.emit("entity.requested"),i.pull(function(e){i.unloadEntity(),null!=e&&(n=v({},n,e)),n=v({},n),i.getid(function(e){Ge(n,e,i);var t=u("GET",n,e);t.length<2e3?function(e,t){i.jsonp(e,t)}(t,r):function(e,t,n){i.iframe({url:u("POST",e,n),data:e},t)}(n,c,e)})}))},entityReady:function(n){null!=o?F(n,o):i.once("entity.loaded",function(e,t){return n(t)})},getEntity:function(){return null==o&&t.carp("entity not loaded!"),o},unloadEntity:function(){var e=null!=o;o=void 0,e&&t.emit("entity.unloaded")}}),s.entity.preload&&i.once("lifecycle.setup.done",function(){i.loadEntity()}),i.once("lifecycle.teardown.requested",function(){i.unloadEntity()})}function kt(){}function Et(_,S,T){_.ns("poll"),_.defaults({poll:{retries:600,interval:100}}),_.hold({poll:function(e){_.emit("poll.started",e);var t=e.property,i=void 0===t?function(){throw new Error("property must be defined!")}():t,n=e.receiver,o=void 0===n?I:n,a=e.predicate,r=void 0===a?Boolean:a,c=e.retries,s=void 0===c?T.poll.retries:c,l=e.interval,u=void 0===l?T.poll.interval:l,d=e.success,f=void 0===d?kt:d,p=e.failure,g=void 0===p?kt:p,h=Je(s,function(){w(g,"poll.failed",new Error("Maximum retries exceeded for property `".concat(String(i),"`: ").concat(s,"!")),h.times)});if(!y()){var m=setInterval(function(){y()?b():h()},u),v=z(E);return S.once("lifecycle.teardown.requested",v),v}function y(){return r(k(),i,o)}function b(){w(f,"poll.succeeded",k(),h.times)}function w(e,t,n,o){E(),F(function(){e(),_.emit(t,{tries:o,property:i,completion:n})})}function k(){return"symbol"===Y(i)?o[i]:Ne(o,i.split("."))}function E(){clearInterval(m),_.emit("poll.stopped",e)}b()}}),_.expose({resetPolling:function(){_.emit("poll.reset")}})}var _t="liosetup";function St(f,o,p){var e,t;f.ns("lio"),f.defaults({lio:{global:_t,polling:(e={},_e(e,"lio.push",p.poll),_e(e,"lio.pull",{retries:0}),e),performPullAndSend:!0}});var g={},h=(_e(t={},"lio.pull",[]),_e(t,"lio.push",[]),t),i={};function a(t,n){return 1<n.length?function(e){return n(t(),e)}:function(){return n(t())}}function n(e){f.emit("lio.flush",e);var t=h[e];0===t.length&&r();var n=Je(t.length,r);function o(t,n){y(function(){var e=t.options.success;0<e.length?e(function(){i(t),n()}):(e(),i(t),n())},function(e){f.carp(e),a(t)})}function i(e){f.emit("lio.succeeded",e)}function a(e){e.fail(),f.emit("lio.failed",e)}function r(){f.emit("lio.flushed",e),f.emit(function(e){switch(e){case"lio.pull":return"lio.pulled";case"lio.push":return"lio.pushed"}throw new Error("Invalid channel: ".concat(e))}(e))}m(t,function(e){f.emit("lio.started",e),function(e,t){null==e.options.globalVariableName?o(e,t):function(e,t){var n=e.options.globalVariableName;f.poll(v({},e.options.polling,{property:n,success:function(){o(e,t)},failure:function(){f.carp("Failed to detect `".concat(n,"`!")),a(e),t()}}))}(e,t)}(e,function(){f.emit("lio.finished",e),n()})})}f.hold({integration:function(e,t){var n=t.integrationName,o=void 0===n?this.namespace:n,i=t.globalVariableName,a=t.success,r=void 0===a?kt:a,c=t.failure,s=void 0===c?kt:c,l=t.polling,u=void 0===l?p.lio.polling[e]:l;if(!E(e))throw new Error("Invalid event name ".concat(e,' (not typeof "string")'));var d={channel:e,options:{integrationName:o,globalVariableName:i,success:r,failure:s,polling:u},succeed:r,fail:s};h[e].push(d),g[o]="lio.registered",f.emit("lio.registered",d)},pullGlobalVariable:function(t){f.pullIntegration(v({},t,{success:function(e){v(e,window[t.globalVariableName])}}))},pullIntegration:function(e){var t=e.success,n=void 0===t?kt:t;f.integration("lio.pull",v({},e,{success:a(function(){return i},n)}))},pushIntegration:function(e){var t=e.success,n=void 0===t?kt:t;f.integration("lio.push",v({},e,{success:a(function(){return o.getEntity()},n)}))}}),f.expose({getIntegrationsRegistry:function(){return g},isIntegrationLoaded:function(e){return"lio.success"===g[e]},pull:function(e){o.once("lio.pulled",function(){return e(i)}),f.emit("lio.pull",i),n("lio.pull")}}),o.on("entity.loaded",function(e,t){o.once("lio.pushed",function(){f.emit("lio.done")}),f.emit("lio.push",t),n("lio.push")}),o.on("entity.unloaded",function(){i={}}),p.lio.performPullAndSend&&o.on("lifecycle.setup.done",function(){o.pull(function(e){0<Object.keys(e).length&&o.send(e)})})}function Tt(e,t,n){if(e.ns("audit"),e.defaults({audit:{topic:"*",level:"silent",info:void 0}}),null!=n.audit.info&&t.on("*",n.audit.info),"verbose"===n.audit.level){var a=n.audit.topic;t.on(a,function(){for(var e,t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(g(t,Boolean),function(e,t){return"".concat(e,"[").concat(t,"]")},"")}("event","*"!==a&&a),n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];(e=console).log.apply(e,[t].concat(o))})}}function It(s){s.ns("pixel"),s.hold({pixel:function(e){var a=e.src,t=e.success,n=void 0===t?kt:t,o=e.failure,i=void 0===o?kt:o;if(a){var r=new Image;r.src=a,r.onload=c(n,"succeeded"),r.onerror=c(i,"failed")}else s.carp("`src` is required for `.pixel()` requests!");function c(o,i){return null==o?o:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.apply.apply(o,[this].concat(t)),s.emit("pixel.".concat(i),a)}}}})}function xt(e,i){e.expose({call:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i[e].apply(i,n)}})}var Pt=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.plugins=[],this.config=e,this.referrer=y(function(){return c.document.referrer},function(){return p.document.referrer},function(){return d.referrer}),this.blocked=!0===this.config.blocked,this.changeId=null,this.instanceId=A(),this.use(xt),this.use(q),this.use(Ie),this.use(we),this.use(Tt),this.use(K),this.use(Ue),this.use(Et),this.use(O),this.use(mt),this.use(St),this.use($e),this.use(De),this.use(Ze),this.use(Re),this.use(Fe),this.use(Ee),this.use(Te),this.use(It)}return r(t,[{key:"loadScript",value:function(e,t,n){return f(e,t,n),this}},{key:"extend",value:function(){return v.apply(void 0,arguments)}},{key:"parseUri",value:function(e){return _(e)}},{key:"parseQueryString",value:function(e){return P(e)}},{key:"use",value:function(e){return i.call(this,e)}}]),t}();function At(e){e.ns("tealium.dataLayerPull"),e.defaults({tealium:{dataLayerPull:{disabled:!0}}}),e.mustEnable(),e.pullGlobalVariable({globalVariableName:"utag_data"})}function Ct(e,o,t){e.ns("cookies.dataLayerPull"),e.defaults({cookies:{dataLayerPull:{customCookieKeys:[],disabled:!1}}}),e.mustEnable(),e.pullIntegration({success:function(n){m(t.cookies.dataLayerPull.customCookieKeys,function(e){var t=o.getCookie(e);null!=t&&(n[e]=t)})}})}function Dt(e,t,n){if(e.ns("customGlobals"),e.defaults({customGlobals:{globals:[],disabled:!0,payloadNamespace:"lyticsDataLayer"}}),e.mustEnable(),0!==n.customGlobals.globals.length){var o=n.customGlobals,i=o.globals,a=o.payloadNamespace;m(i,function(t){e.pullIntegration({globalVariableName:t,success:function(e){e[a]||(e[a]={}),e[a][t]=Ne(window,t.split("."))}})})}else e.carp("The custom globals plugin is enabled, but no globals are configured!")}function Nt(n,e,t){n.ns("adroll.audiencePush"),n.defaults({adroll:{audiencePush:{disabled:!0,global:"__adroll"}}}),n.mustEnable();var o,i=t.adroll.audiencePush.global;n.pushIntegration({globalVariableName:i,success:function(e){var t=e.getSegments();null!=t&&y(function(){o=window[i],function(e){m(e,function(e){o.record_user({adroll_segments:"lytics_".concat(e)})}),n.emit("adroll.audiencePush.done")}(t)},function(e){n.carp(e)})}})}function Ot(t,n,o){t.ns("salesforce.dmp"),t.defaults({salesforce:{dmp:{disabled:!0,pixel:"https://beacon.krxd.net/1x1_usermatch.gif",partnerId:"lytics",lyticsStream:"salesforce_dmp",performConfirmationSend:!1}}}),t.mustEnable(),n.on("lio.push",function(){n.getid(function(e){t.pixel({src:ke(o.salesforce.dmp.pixel,"partner=".concat(o.salesforce.dmp.partnerId,"&partner_uid=").concat(e)),success:function(){t.emit("salesforce.dmp.succeeded"),o.salesforce.dmp.performConfirmationSend&&n.send(o.salesforce.dmp.lyticsStream)},failure:function(){t.carp("Failed loading pixel!"),t.emit("salesforce.dmp.failed")}})})})}function Ut(t,n,o){t.ns("lotame.dmp"),t.defaults({lotame:{dmp:{disabled:!0,baseUrl:"https://sync.crwdcntrl.net/map",clientId:"13197",clientIdSpace:"LYTC",lyticsStream:"lotame_dmp",performConfirmationSend:!1}}}),t.mustEnable(),n.on("lio.push",function(){n.getid(function(e){t.pixel({src:"".concat(o.lotame.dmp.baseUrl,"/c=").concat(o.lotame.dmp.clientId,"/tp=").concat(o.lotame.dmp.clientIdSpace,"/tpid=").concat(e),success:function(){t.emit("lotame.dmp.succeeded"),o.lotame.dmp.performConfirmationSend&&n.send(o.lotame.dmp.lyticsStream)},failure:function(){t.carp("Failed loading pixel!"),t.emit("lotame.dmp.failed")}})})})}function Lt(e,t){e.expose({backingInstance:function(){return t}})}function jt(e,t,n){e.pushIntegration({integrationName:"legacy-liosetup-callback",success:function(t){null!=window.liosetup&&null!=window.liosetup.callback&&m([].concat(window.liosetup.callback),function(e){e("legacy"===n.entity.format?t.toLegacyStyle():t)})}})}function Ft(e,t){for(var n=0,o=e.length;n<o;n++)if(t(e[n],n,e))return n;return-1}function zt(e,t){return-1!==Ft(e,t)}Pt.prototype.serializers=X;var Mt,Bt,Rt,qt,Kt,Vt,Gt,Yt,Ht,Qt,Wt="config.google.analytics.properties";function Jt(s,l,u){if(s.ns("google.analytics.dimensionPush"),s.defaults({google:{analytics:{global:"ga",properties:ue([]),dimensionPush:{disabled:!0,eventCategory:"lytics",eventAction:"lytics_google_integration"},shouldSendUid:!0}}}),s.mustEnable(),0!==u.google.analytics.properties.length){var o,e=u.google.analytics.global;s.pushIntegration({globalVariableName:e,success:function(){o=window[e],function(){function n(){s.emit("google.analytics.dimensionPush.done")}o(function(){var e=o.getAll();if(0===e.length)return s.carp("No Google Analytics properties!"),void n();var t=function(e){var t=h(e,function(e){return{id:e.get("trackingId"),name:e.get("name")}}),n={};return g(t,function(e){var t=!("".concat(e.id)in n);return n[e.id]=!0,t||function(e,t){s.carp("Not sending to Google Analytics tracker ".concat(t," because it has a duplicate web property ").concat(e))}(e.id,e.name),t})}(e);!function(e){m(g(u.google.analytics.properties,function(t){return!zt(e,function(e){return e.trackingId===t.id})}),function(e){!function(e){s.carp("Mismatch! Property in `".concat(Wt,"` for property with ID `").concat(e,"` not found in Google Analytics"))}(e.id)})}(t),function(e,t){m(e,function(e){return function(e,t){var a=e.name,n=e.id,o=function(e,t){return e[Ft(e,t)]}(u.google.analytics.properties,function(e){return e.id===n});if(null==o)return function(e){s.carp("Mismatch! Property in Google Analytics for property with ID `".concat(e,"` not found in `").concat(Wt,"`"))}(n),void i();if(0===o.dimensions.length)return function(e){s.carp("No dimensions for property with ID `".concat(e,"`!"))}(n),void i();var r=!1,c=Je(o.dimensions.length,i);function i(){u.google.analytics.shouldSendUid&&!r?function(t,n){l.getid(function(e){f(t,"&uid",e),p(t),n()})}(a,t):(p(a),t())}m(o.dimensions,function(e){var t=function(e){return C(e)||ee(e)||D()}(e),n=t[0],o=t[1],i=t.slice(2);"&uid"===o&&(r=!0),n in d?d[n].apply(d,te(i).concat([function(e){f(a,o,"".concat(e)),c()}])):function(e){s.carp("Don't know how to retrieve `".concat(e,"`!"))}(n)})}(e,t)})}(t,Je(t.length,n))})}()},failure:function(){s.carp("Google Analytics was not detected!"),s.emit("google.analytics.dimensionPush.failed")}});var d={user_id:function(e){l.getid(e)},user_field:function(t,n){l.entityReady(function(e){return n(e.getAt(t.split(".")))})}}}else s.carp("No Google Analytics properties found. Nothing to do!");function f(e,t,n){o("".concat(e,".set"),t,n),s.emit("google.analytics.dimensionPush.set.requested",{property:e,dimension:t,value:n})}function p(e){o("".concat(e,".send"),{hitType:"event",eventCategory:u.google.analytics.dimensionPush.eventCategory,eventAction:u.google.analytics.dimensionPush.eventAction,nonInteraction:1}),s.emit("google.analytics.dimensionPush.send.requested",{property:e})}}function $t(t,e,o){t.ns("google.dfp.audiencePush"),t.defaults({google:{dfp:{audiencePush:{disabled:!0,targeting:"LyticsSegments",waitForEntityToLoad:!1},global:"googletag"}}}),t.mustEnable();var i=o.google.dfp.global;o.google.dfp.audiencePush.waitForEntityToLoad&&t.pullIntegration({globalVariableName:i,success:function(){var e=window[i];e.cmd.push(function(){e.pubads().disableInitialLoad()})}}),t.pushIntegration({globalVariableName:i,success:function(n){y(function(){var t=window[i];t.cmd.push(function(){var e=t.pubads();e.setTargeting(o.google.dfp.audiencePush.targeting,n.getSegments()),o.google.dfp.audiencePush.waitForEntityToLoad&&e.refresh()})},function(e){t.carp(e)})}})}function Zt(n,t,o){n.ns("google.tagManager"),n.defaults({google:{tagManager:{global:"dataLayer",segmentsKey:"lytics_segments",dataLayerPull:{disabled:!0},audiencePush:{disabled:!0}}}});var e=o.google.tagManager,i=e.dataLayerPull.disabled,a=e.audiencePush.disabled;function r(t){var n=o.google.tagManager.global;return{globalVariableName:n,success:function(e){t(window[n],e)}}}i&&a?n.carp("Both push and pull integrations are disabled by configuration!"):(i?n.carp("The pull integration is disabled, and the push integration enabled by configuration"):n.pullIntegration(r(function(e){m(e,function(e){!function(e){return 2<u(e).length||!("event"in e)}(e)||t.sendMessage({stream:o.stream,data:e})}),n.emit("google.tagManager.dataLayerPulled")})),a?n.carp("The push integration is disabled, and the pull integration enabled by configuration"):n.pushIntegration(r(function(e,t){e.push(_e({},o.google.tagManager.segmentsKey,k(h(t.getSegments(),function(e){return[e,e]})))),n.emit("google.tagManager.audiencePushed")})))}function Xt(t,n,o){var i;t.ns("google.ga4"),t.defaults({google:{ga4:{disabled:!0,global:"gtag",shouldSendUid:!0,eventName:"lytics",eventCategory:"lytics_user_properties"}}}),t.mustEnable(),t.pushIntegration({globalVariableName:o.google.ga4.global,success:function(){i=window[o.google.ga4.global],t.emit(Mt.SENDING),n.getid(function(e){i("set","user_properties",Se({ly_segments_dim:n.getSegments().filter(function(e){return!e.startsWith("orc_experience_")}).join(",")},o.google.ga4.shouldSendUid?{ly_user_id_dim:e}:{})),i("event",o.google.ga4.eventName,{event_category:o.google.ga4.eventCategory,non_interaction:!0}),t.emit(Mt.SUCCESS)})},failure:function(){t.carp("gtag not detected"),t.emit(Mt.FAILED)}})}function en(o,i,a){o.ns("addThis.audiencePush"),o.defaults({addThis:{audiencePush:{disabled:!0,cookie:"__attag",global:"addthis"}}}),o.mustEnable();var t,n=a.addThis.audiencePush.global;function r(){t.user&&t.user.tag?(y(function(){m(i.getSegments(),function(e){t.user.tag(c(e))})},function(e){o.carp(e)}),o.emit("addThis.audiencePush.pushed")):o.carp("The AddThis SDK must provide a `user.tag` method!")}function c(e){return"lio:".concat(e)}o.pushIntegration({globalVariableName:n,success:function(e){t=window[n],function(e){o.emit("addThis.audiencePush.detected");var t=a.addThis.audiencePush.cookie,n=i.getCookie(t);if(null!=n)return o.emit("addThis.audiencePush.cookieDetected",t),function(e,t){var n=g(e.split(","),function(e){return!M(e,"lio:")});n.push.apply(n,te(h(t.getSegments(),c))),function(e){i.setCookie(a.addThis.audiencePush.cookie,e,2592e3),o.emit("addThis.audiencePush.cookieUpdated"),r()}(n.join(","))}(n,e);o.emit("addThis.audiencePush.cookieNotDetected",t),r()}(e)}})}function tn(r,e,c){r.ns("facebook.ads.audiencePush"),r.defaults({facebook:{ads:{audiencePush:{global:"_fbq",disabled:!0,eventName:"Lytics Audiences",maxMessageLength:1/0,sendSequentially:!1,sendExternalId:!0}}}}),r.mustEnable();var s=c.facebook.ads.audiencePush.global,l=0;r.pushIntegration({globalVariableName:s,success:function(a){e.getid(function(e){var t=I[s],n=a.getSegments();if(0===l&&c.facebook.ads.audiencePush.sendExternalId&&i({external_id:e}),0!==n.length){var o=k(h(n,function(e){return[e,"true"]}));c.facebook.ads.audiencePush.sendSequentially?m(n,function(e){i(_e({},e,"true"))}):m(function(o,e){var i=1<arguments.length&&void 0!==e?e:500,a=u(o),r=[],c="{:}".length+'""'.length*a.length,s=0,l={};return m(a,function(e,t){var n=y(function(){return JSON.stringify(o[e])});if(null==n)return r.push(o),!0;(s+=c+e.length+n.length)>i&&(r.push(l),l={}),l[e]=o[e],t===a.length-1&&r.push(l)}),r}(o,c.facebook.ads.audiencePush.maxMessageLength),function(e){i(e)}),r.emit("facebook.ads.audiencePush.done",o)}else r.carp("No segments to send!");function i(e){t.push(["track",c.facebook.ads.audiencePush.eventName,e]),l++}})}})}function nn(e,t,n){e.ns("pathfora.install");var o=Ye(n.url);function i(){return n.pathfora.install.css.disabled?(e.carp("custom css installation disabled"),void r()):null==n.pathfora.install.css.src?(e.carp("custom css installation has invalid src"),void r()):void function(e,t,n){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,o.onload=t,o.onerror=n;var i=document.getElementsByTagName("link")[0],a=i&&i.parentNode||document.head||document.body,r=i||a.lastChild;null!=r?a.insertBefore(o,r):a.appendChild(o)}(n.pathfora.install.css.src,function(){n.pathfora.install.css.loaded=!0,e.emit(Rt.CSS_SUCCEEDED),r()},function(){e.carp("custom css installation failed"),r()})}function a(){n.pathfora.install.sdk.loaded=!0,e.emit(Rt.SDK_SUCCEEDED),i()}function r(){e.emit(Rt.SUCCEEDED),e.emit(Rt.DONE)}function c(){e.emit(Rt.DONE)}e.defaults({pathfora:{install:{global:"pathfora",disabled:!0,sdk:{disabled:!0,loaded:!1,lazy:!0,src:"".concat(o,"/static/pathfora.min.js")},css:{disabled:!0,loaded:!1,src:void 0}}}}),e.mustEnable(),t.once("pathfora.*.sdkNotDetected",function(){return n.pathfora.install.sdk.disabled?(e.carp("sdk installation disabled"),void c()):null!=window.pathfora?(e.carp("already installed"),void a()):null==n.pathfora.install.sdk.src?(e.carp("sdk installation has invalid src"),void c()):("https://c.lytics.io"!==o&&(window.PathforaCSS="".concat(o,"/static/pathfora.min.css")),void f(n.pathfora.install.sdk.src,function(){a()},function(){e.carp("sdk installation failed"),c()}))}),!1===n.pathfora.install.sdk.lazy&&e.poll({property:n.pathfora.install.global,retries:0,failure:function(){e.emit(Rt.SDK_NOT_DETECTED)}})}function on(o,e,i){function a(){var e=_(i.location),t={};return 0<e.search.length&&(t=P(e.search)),null!=t[i.pathfora.preview.variation.previewKey]?(i.pathfora.preview.variation.id=t[i.pathfora.preview.variation.previewKey],i.pathfora.preview.format="variation",!0):null!=t[i.pathfora.preview.experience.previewKey]?(i.pathfora.preview.experience.id=t[i.pathfora.preview.experience.previewKey],i.pathfora.preview.format="experience",!0):(o.carp("missing query params"),!1)}function t(){if(a()){if(o.emit("pathfora.preview.".concat(i.pathfora.preview.format,".requested")),null==i.pathfora.preview[i.pathfora.preview.format].id||""===i.pathfora.preview[i.pathfora.preview.format].id)return o.carp("".concat(i.pathfora.preview.format," id missing")),void r();var e=i.pathfora.preview[i.pathfora.preview.format],t=e.src,n=e.id;if(/\W/.test(n))return o.carp("id must be alphanumeric"),void r();f(function(e,t){return e.replace("{id}",t)}(t,n),function(){o.emit("pathfora.preview.".concat(i.pathfora.preview.format,".succeeded")),o.emit(Kt.DONE)},function(){o.carp("failed to load ".concat(i.pathfora.preview.format," config")),r()})}else r()}function r(){o.emit(Kt.DONE)}o.ns("pathfora.preview"),o.defaults({pathfora:{preview:{disabled:!0,format:void 0,global:"pathfora",polling:{retries:5},variation:{previewKey:"lytics_variation_preview_id",id:void 0,src:"".concat(Ye(i.url),"/api/program/campaign/variation/preview/").concat(i.cid[0],"/{id}/config.js")},experience:{previewKey:"lytics_preview_id",id:void 0,src:"".concat(Ye(i.url),"/api/experience/preview/").concat(i.cid[0],"/{id}/config.js")}}}}),o.hold({isPathforaPreview:a}),o.mustEnable(),o.pushIntegration({globalVariableName:i.pathfora.preview.global,polling:{property:i.pathfora.preview.global,retries:i.pathfora.preview.polling.retries},success:function(){t()},failure:function(){if(e.config.pathfora.install.disabled||e.config.pathfora.install.sdk.disabled)return o.carp("unable to install sdk as pathfora.install or pathfora.install.sdk is disabled"),void r();o.emit(Kt.SDK_NOT_DETECTED)}}),e.once("pathfora.install.done",function(){if(null==window[i.pathfora.preview.global])return o.carp("cannot preview when pathfora is not installed"),void r();t()})}function an(i,e,a){function t(e){if(null==window[a.pathfora.publish.global])return i.carp("cannot publish when pathfora is not installed"),void c();if(i.isPathforaPreview())return i.carp("unable to publish since request is for preview"),void c();if(null!=window[a.pathfora.publish.global].clearAll&&window[a.pathfora.publish.global].clearAll(),a.pathfora.publish.useLegacy){if(a.pathfora.publish.legacy.disabled)return i.carp("unable to publish since required method(legacy) is disabled"),void c();!function(e){f(function(e,t){var n="https://c.lytics.io";return Ye(t)!==n?e.replace(n,t):e}(a.pathfora.publish.legacy.src,a.url),function(){a.pathfora.publish.legacy.loaded=!0,function(t){var e=window[a.pathfora.publish.global].callbacks||[];return!!e.length&&(m(e,function(e){e(t.data&&t.data.user)}),!0)}(e)?i.emit(Gt.LEGACY_CALLBACKS_FLUSHED):i.carp("failed to flush pathfora callbacks no variations executed"),r()},function(){i.carp("failed to load legacy personalization config"),c()})}(e)}else!function(e){f(a.pathfora.publish.src,function(){a.pathfora.publish.loaded=!0,function(e){var t=[];if(null==window._pfacfg)return i.carp("unable to configure experiences when no _pfacfg present"),c();var n=function(n){if(!s(n))return!1;var e=n.data.experiences||[];return e.length?(m(e,function(e){var t=window._pfacfg.candidates[e.experience_id];t&&re(n.data.user.segments,t.segment)?zt(a.pathfora.publish.candidates.experiences,function(e){return e.id===t.widget.id})?i.carp("experience(".concat(t.widget.id,") already exists in candidates list")):a.pathfora.publish.candidates.experiences.push(t.widget):i.carp("recommended experience(".concat(e.experience_id,") was not found in _pfacfg"))}),!0):void i.carp("unable to select experience candidates when no recommendations have been made")}(e),o=function(t){return!!s(t)&&(m(l(window._pfacfg.variations),function(e){re(t.data.user.segments,window._pfacfg.variations[e].segment)&&a.pathfora.publish.candidates.variations.push(window._pfacfg.variations[e].widget)}),window._pfacfg.abTestConfigs.length&&(a.pathfora.publish.candidates.legacyABTests=window._pfacfg.abTestConfigs),!0)}(e);if(!n&&!o)return c();t=[].concat(te(t),te(a.pathfora.publish.candidates.experiences),te(a.pathfora.publish.candidates.variations)),a.pathfora.publish.candidates.legacyABTests.length&&(window[a.pathfora.publish.global].initializeABTesting(a.pathfora.publish.candidates.legacyABTests),i.emit(Gt.AB_TESTS_INITIALIZED)),t.length&&(window[a.pathfora.publish.global].initializeWidgets(t,window._pfacfg.acctcfg,{priority:a.pathfora.publish.priority}),i.emit(Gt.WIDGETS_INITIALIZED)),r()}(e)},function(){i.carp("failed to load personalization config"),c()})}(e)}function r(){i.emit(Gt.SUCCEEDED),i.emit(Gt.DONE)}function c(){i.emit(Gt.DONE)}function s(e){return null!=e&&null!=e.data&&null!=e.data.user||(i.carp("entity must contain user attribute!"),!1)}i.ns("pathfora.publish"),i.defaults({pathfora:{publish:{disabled:!0,global:"pathfora",src:"".concat(Ye(a.url),"/api/experience/candidate/").concat(a.cid[0],"/config.js"),loaded:!1,priority:"ordered",urlFragmentWhitelist:[],polling:{retries:5},recommendations:{experience:[]},candidates:{experiences:[],variations:[],legacyABTests:[]},legacy:{disabled:!0,src:"".concat(Ye(a.url),"/api/program/campaign/config/").concat(a.cid[0],"/config.js"),loaded:!1}}}}),i.mustEnable(),a.pathfora.publish.useLegacy=!a.pathfora.publish.urlFragmentWhitelist.length||!zt(ge(a.pathfora.publish.urlFragmentWhitelist),function(e){var t=N(e,2)[1];return-1!==a.location.indexOf(t)}),e.once("lifecycle.teardown.requested",function(){var e=a.pathfora.publish.candidates;e.experiences.length=0,e.variations.length=0,e.legacyABTests.length=0}),i.pushIntegration({globalVariableName:a.pathfora.publish.global,polling:{property:a.pathfora.publish.global,retries:a.pathfora.publish.polling.retries},success:function(e){t(e)},failure:function(){a.pathfora.install.disabled?(i.carp("unable to request pathfora install since pathfora.install is disabled"),c()):(e.once("pathfora.install.done",function(){e.entityReady(t)}),i.emit(Gt.SDK_NOT_DETECTED))}})}function rn(a,r,c){a.ns("amazon.dsp"),a.defaults({amazon:{dsp:{disabled:!0,euWhitelist:["UK","DE","FR","IT","ES","IN","AE"],pixelEu:"https://aax-eu.amazon-adsystem.com/s/dcm?pid=0fd612d9-169e-4abc-9509-01b23357b7a4",pixelRest:"https://s.amazon-adsystem.com/dcm?pid=8f9b0615-e931-45a3-99e7-549741c1960e",alpha2:void 0,language:navigator.language,lyticsStream:"amazon_dsp",performConfirmationSend:!1}}}),a.mustEnable(),r.on("lio.push",function(){r.getid(function(e){var t=c.amazon.dsp,n=t.pixelEu,o=t.pixelRest,i=ke(function(){var e=c.amazon.dsp,t=e.euWhitelist,n=e.alpha2,o=e.language;return re(t,n||function(e){return e.substr(e.lastIndexOf("-")+1).toUpperCase()}(o))}()?n:o,"id=".concat(e));a.pixel({src:i,success:function(){a.emit(Ht.SUCCEEDED,i),c.amazon.dsp.performConfirmationSend&&r.send(c.amazon.dsp.lyticsStream)},failure:function(){a.carp("Failed loading pixel!"),a.emit(Ht.FAILED,i)}})})})}function cn(n,e,o){n.ns("taboola.dmp"),n.defaults({taboola:{dmp:{disabled:!0,baseUrl:"https://trc.taboola.com/sg",partnerId:"lytics",redirectUrl:"".concat(Ye(o.url),"/c/provider/taboola?taboola_id=<TUID>")}}}),n.mustEnable(),e.on("lio.push",function(){e.getid(function(e){var t=V("".concat(o.taboola.dmp.redirectUrl,"&_uid=").concat(e,"&account_id=").concat(o.cid[0]));n.pixel({src:"".concat(o.taboola.dmp.baseUrl,"/").concat(o.taboola.dmp.partnerId,"/1/cm?redirect=").concat(t),success:function(){n.emit("taboola.dmp.succeeded")},failure:function(){n.carp("Failed loading pixel!"),n.emit("taboola.dmp.failed")}})})})}function sn(t,e,n){if(t.ns("thetradedesk.dsp"),t.defaults({thetradedesk:{dsp:{disabled:!0,baseUrl:"https://match.adsrvr.org/track/cmf/generic",partnerId:void 0}}}),t.mustEnable(),null==n.thetradedesk.dsp.partnerId)return t.carp('"partnerId" needs to be passed into config!'),void t.emit("thetradedesk.dsp.failed");e.on("lio.push",function(){e.getid(function(e){t.pixel({src:"".concat(n.thetradedesk.dsp.baseUrl,"/?ttd_pid=").concat(n.thetradedesk.dsp.partnerId,"&ttd_puid=").concat(e,"&ttd_puid=").concat(n.cid[0],"&ttd_tpi=1&gpdr=0&domain=").concat(location.hostname.replace(/^www\./,"")),success:function(){t.emit("thetradedesk.dsp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("thetradedesk.dsp.failed")}})})})}function ln(e){return Number.isNaN(+e)?new Date(e):new Date(+e)}function un(n,o,i){n.ns("google.dv360"),n.defaults({google:{dv360:{disabled:!0,baseUrl:"https://cm.g.doubleclick.net/pixel",bidderAccountNid:"lytics",entityIdModifiedAtField:"user.dv360_id_ts",cookieTTL:6048e5,lyticsStream:"google_dv360"}}}),n.mustEnable(),null!=i.google.dv360.bidderAccountNid?o.getid(function(t){o.entityReady(function(e){+ln(e.getAt(i.google.dv360.entityIdModifiedAtField.split(".")))>Date.now()-i.google.dv360.cookieTTL?n.emit("google.dv360.skipped"):n.pixel({src:"".concat(i.google.dv360.baseUrl,"?google_cm&google_nid=").concat(i.google.dv360.bidderAccountNid,"&google_hm=").concat(btoa(t)),success:function(){o.send(i.google.dv360.lyticsStream),n.emit("google.dv360.succeeded")},failure:function(){n.carp("Failed loading pixel!"),n.emit("google.dv360.failed")}})})}):n.carp("Missing required config option: google.dv360.bidderAccountNid!")}function dn(n,e,o){n.ns("yahoo.datax"),n.defaults({yahoo:{datax:{disabled:!0,baseUrl:"https://ups.analytics.yahoo.com/ups/58702/cms",partnerId:"LYTICS",lyticsStream:"yahoo",entityIdModifiedAtField:"user.yahoo_id_ts",cookieTTL:12096e5,gdpr:!1,gdprConsent:void 0}}}),n.mustEnable(),null!=o.yahoo.datax.partnerId?e.getid(function(t){e.entityReady(function(e){+ln(e.getAt(o.yahoo.datax.entityIdModifiedAtField.split(".")))>Date.now()-o.yahoo.datax.cookieTTL?n.emit("yahoo.datax.skipped"):n.pixel({src:"".concat(o.yahoo.datax.baseUrl,"?partner_id=").concat(o.yahoo.datax.partnerId,"&account_id=").concat(o.cid[0],"&_uid=").concat(t).concat(o.yahoo.datax.gdpr?"gdpr=1&gdpr_consent=".concat(o.yahoo.datax.gdprConsent):""),success:function(){n.emit("yahoo.datax.succeeded")},failure:function(){n.carp("Failed loading pixel!"),n.emit("yahoo.datax.failed")}})})}):n.carp("Missing required config option: yahoo.datax.partnerId!")}function fn(n,e,o){n.ns("criteo.ads"),n.defaults({criteo:{ads:{disabled:!0,baseUrl:"https://gum.criteo.com/sync",partnerId:"595",redirectUrl:"".concat(Ye(o.url),"/c/provider/criteo?criteo_id=@USERID@")}}}),n.mustEnable(),e.on("lio.push",function(){e.getid(function(e){var t=V("".concat(o.criteo.ads.redirectUrl,"&_uid=").concat(e,"&account_id=").concat(o.cid[0]));n.pixel({src:"".concat(o.criteo.ads.baseUrl,"?c=").concat(o.criteo.ads.partnerId,"&r=1&u=").concat(t),success:function(){n.emit("criteo.ads.succeeded")},failure:function(){n.carp("Failed loading pixel!"),n.emit("criteo.ads.failed")}})})})}function pn(n,o,e){n.ns("onetrust.consent"),n.defaults({onetrust:{consent:{disabled:!0,accept:[],global:"OneTrust"}}}),n.mustEnable(),e.consent.disabled&&(e.consent.disabled=!1),o.on("consent.blocked",function(){n.emit("onetrust.consent.blocked")});var t=window[e.onetrust.consent.global];if(void 0!==t){var i=[].concat(e.onetrust.consent.accept);t.OnConsentChanged(function(e){var t=e.detail;if(!Array.isArray(t)||0===t.length||0===i.length||!i.every(function(e){return t.includes(e)}))return n.carp("OneTrust consent not accepted"),n.emit("onetrust.consent.notAccepted",t),void o.optOut();n.emit("onetrust.consent.accepted",t),o.optIn()})}else n.carp("OneTrust not found, instance blocked")}(Bt=Mt||(Mt={})).SENDING="google.ga4.sending",Bt.SUCCESS="google.ga4.success",Bt.FAILED="google.ga4.failed",(qt=Rt||(Rt={})).SUCCEEDED="pathfora.install.succeeded",qt.SDK_NOT_DETECTED="pathfora.install.sdkNotDetected",qt.SDK_SUCCEEDED="pathfora.install.sdk.succeeded",qt.CSS_SUCCEEDED="pathfora.install.css.succeeded",qt.DONE="pathfora.install.done",(Vt=Kt||(Kt={})).DONE="pathfora.preview.done",Vt.SDK_NOT_DETECTED="pathfora.preview.sdkNotDetected",(Yt=Gt||(Gt={})).SUCCEEDED="pathfora.publish.succeeded",Yt.DONE="pathfora.publish.done",Yt.SDK_NOT_DETECTED="pathfora.publish.sdkNotDetected",Yt.LEGACY_CALLBACKS_FLUSHED="pathfora.publish.legacy.pathforaCallbackFlushed",Yt.AB_TESTS_INITIALIZED="pathfora.publish.current.abtestsInitialized",Yt.WIDGETS_INITIALIZED="pathfora.publish.current.widgetsInitialized",(Qt=Ht||(Ht={})).SUCCEEDED="amazon.dsp.succeeded",Qt.FAILED="amazon.dsp.failed";var gn=["click","dblclick","change","input","focusin","focusout","keydown","keypress","mousedown","mouseout","mouseover","mouseup","touchstart","touchend","touchcancel"];function hn(e,r,c){e.ns("lx"),e.defaults({lx:{disabled:!0,prefix:"lx",target:ue(document.body),stream:"default",triggers:gn}}),e.mustEnable();var t=c.lx.prefix,s="".concat(t,"-trigger"),l="data-".concat(s),u="".concat(t,"-send-"),d="data-".concat(u),f="".concat(t,"-stream"),p="data-".concat(f),g={};!function(){var e=!0,t=!1,n=void 0;try{for(var o,i=function(){function e(e){var t=e.target;!function(e,t){return t.getAttribute(s)===e||t.getAttribute(l)===e}(n,t)||r.send(function(e){return e.getAttribute(f)||e.getAttribute(p)||c.lx.stream}(t),function(e){var t={},n=!0,o=!1,i=void 0;try{for(var a,r=e.attributes[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var c=a.value,s=c.name.startsWith(u);if(s||c.name.startsWith(d)){var l=c.name.slice(s?u.length:d.length);t[l.replace(/-/g,".")]=c.value}}}catch(e){o=!0,i=e}finally{try{n||null==r.return||r.return()}finally{if(o)throw i}}return t}(t))}var n=o.value;c.lx.target.addEventListener(n,e),g[n]=e},a=c.lx.triggers[Symbol.iterator]();!(e=(o=a.next()).done);e=!0)i()}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}(),r.once("lifecycle.teardown.requested",function(){!function(){var e=!0,t=!1,n=void 0;try{for(var o,i=c.lx.triggers[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,r=g[a];r&&c.lx.target.removeEventListener(a,r)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}()})}var mn,vn,yn,bn=function(){function i(e,t,n,o){a(this,i),this.onTick=e,this.onStop=t,this.initialDelay=n,this.maxAttempts=o,this.prevFactor=1,this.currentFactor=1,this.attempts=0,this.timer=null}return r(i,[{key:"start",value:function(){this.attempts=0,this.prevFactor=1,this.currentFactor=1,this.delay=this.initialDelay,this.poll()}},{key:"stop",value:function(){this.onStop(),this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"reset",value:function(){this.stop(),this.start()}},{key:"incFactorFib",value:function(){var e=this.prevFactor+this.currentFactor;this.prevFactor=this.currentFactor,this.currentFactor=e}},{key:"poll",value:function(){var e=this;this.attempts>=this.maxAttempts?this.stop():(this.onTick(),setTimeout(function(){e.attempts++,e.delay*=e.currentFactor,e.incFactorFib(),e.poll()},this.delay))}}]),i}();function wn(a,i,r){function c(e){var t=te(new Set(0<arguments.length&&void 0!==e?e:[])).sort(function(e,t){return e.localeCompare(t)});return"|".concat(t.join("|"),"|")}a.ns("contentstack.entityPush"),a.defaults({contentstack:{entityPush:{disabled:!0,baseUrl:"https://personalize-edge.contentstack.com",personalizeProjectId:void 0,audienceAttribute:"lytics_audiences",flowAttribute:"lytics_flows",cookie:"cs-personalize-user-uid",cookieDomain:null,poll:{disabled:!0,initialDelay:4e3,maxAttempts:5},cache:{disabled:!1,storage:ue(sessionStorage),key:"contentstack_personalize"}}}}),a.mustEnable(),r.contentstack.entityPush.poll.disabled||i.once("lifecycle.setup.done",function(){!function(){var e=r.contentstack.entityPush.poll,t=e.initialDelay,n=e.maxAttempts,o=new bn(function(){i.loadEntity()},function(){a.carp("Polling stopped."),a.emit(mn.ENTITY_PUSH_POLL_STOPPED)},Math.max(t,1e3),Math.min(n,10));o.start(),a.emit(mn.ENTITY_PUSH_POLL_STARTED),i.on("lifecycle.teardown.requested",function(){o.stop()}),i.on("poll.reset",function(){o.reset()})}()}),i.on("entity.loaded",function(e,t){var n=t.data.user._id;if(!n)return a.carp("Lytics ID not found in entity data."),a.emit(mn.ENTITY_PUSH_FAILURE),void a.emit(mn.ENTITY_PUSH_DONE);Pe(r.contentstack.entityPush.cookie,n,r.contentstack.entityPush.cookieDomain),a.emit(mn.ENTITY_PUSH_REQUESTED,t);var o=r.contentstack.entityPush.personalizeProjectId,i=JSON.stringify(function(e){var t,n=e.data.user,o=n.segments,i=n.flows_step_slugs;return _e(t={},r.contentstack.entityPush.audienceAttribute,o.length?c(o):void 0),_e(t,r.contentstack.entityPush.flowAttribute,i?c(Object.values(i)):void 0),t}(t));if(function(e){var t=r.contentstack.entityPush.cache,n=t.disabled,o=t.storage,i=t.key;if(n)return!1;var a=o.getItem(i);return null!=a&&a===e||(o.setItem(i,e),!1)}(i))return a.carp("No changes detected, skipping entity push."),void a.emit(mn.ENTITY_PUSH_DONE);fetch("".concat(r.contentstack.entityPush.baseUrl,"/user-attributes"),{method:"PATCH",body:i,headers:Se({"x-cs-personalize-user-uid":n},o?{"x-project-uid":o}:{})}).then(function(e){e.ok?a.emit(mn.ENTITY_PUSH_SUCCESS,e):a.emit(mn.ENTITY_PUSH_FAILURE)}).catch(function(e){a.carp(e),a.emit(mn.ENTITY_PUSH_FAILURE)}).finally(function(){a.emit(mn.ENTITY_PUSH_DONE)})})}function kn(t){I[n][t]=function(){var e;if(null==yn)throw new Error("You must first call .init()");return(e=yn)[t].apply(e,arguments)}}function En(e,t){I[n][e]=t}function _n(){yn&&yn.tearDown(),m(U,clearTimeout),U.length=0}(vn=mn||(mn={})).ENTITY_PUSH_REQUESTED="contentstack.entityPush.requested",vn.ENTITY_PUSH_SUCCESS="contentstack.entityPush.success",vn.ENTITY_PUSH_FAILURE="contentstack.entityPush.failure",vn.ENTITY_PUSH_DONE="contentstack.entityPush.done",vn.ENTITY_PUSH_POLL_STARTED="contentstack.entityPush.pollStarted",vn.ENTITY_PUSH_POLL_STOPPED="contentstack.entityPush.pollStopped",I[n]||(I[n]=I[e]||{}),En("JSTag",Pt),En("init",(kn("loadScript"),kn("use"),En("extend",v),En("ckieGet",xe),En("ckieSet",Pe),En("ckieDel",Ae),En("isLoaded",!1),En("util",{forEach:m,reduce:s,map:h,filter:g,contains:re,pairs:ge,object:k,filterObject:he,trim:x,extend:v,once:z,parseUri:_,parseQueryString:P,method:kn,shallow:ue,matchingDomainFor:Ce}),function(e){var t=0<arguments.length&&void 0!==e?e:I[n].config;return _n(),(yn=new Pt(t)).use(pn),yn.use(wt),yn.use(At),yn.use(Ct),yn.use(Dt),yn.use(wn),yn.use(bt),yn.use(Nt),yn.use(jt),yn.use(en),yn.use(tn),yn.use($t),yn.use(Zt),yn.use(Jt),yn.use(Xt),yn.use(un),yn.use(dn),yn.use(nn),yn.use(on),yn.use(an),yn.use(Ot),yn.use(Ut),yn.use(rn),yn.use(cn),yn.use(sn),yn.use(fn),yn.use(Lt),yn.use(hn),En("isLoaded",!0),En("config",yn.config),En("serializers",yn.serializers),En("version",ve),yn.setUp(),_n})),I[e]=I[n];var Sn=I[n]}();
 window.jstag.config.moarConfig = {"cid":["6f5bc1e3c0fc9439065eb72c1c3eedd8"],"addThis":{"audiencePush":{"disabled":false}},"adroll":{"audiencePush":{"disabled":false}},"amazon":{"dsp":{"disabled":true,"performConfirmationSend":false}},"audit":{},"contentstack":{},"cookies":{"dataLayerPull":{}},"criteo":{"ads":{"disabled":true}},"entity":{"preload":true},"facebook":{"ads":{"audiencePush":{"disabled":false}}},"customGlobals":{},"google":{"analytics":{"dimensionPush":{"disabled":false}},"ga4":{"disabled":true},"dfp":{"audiencePush":{"disabled":false}},"tagManager":{"dataLayerPull":{"disabled":true},"audiencePush":{"disabled":true}},"dv360":{"disabled":true}},"iframeTransport":{},"lio":{"polling":{"lio.push":{},"lio.pull":{}}},"lotame":{"dmp":{"disabled":true}},"pageAnalysis":{},"pathfora":{"install":{"disabled":false,"sdk":{"disabled":false},"css":{"disabled":false}},"preview":{"disabled":false,"polling":{},"variation":{"src":"https://api.lytics.io/api/program/campaign/variation/preview/6f5bc1e3c0fc9439065eb72c1c3eedd8/{id}/config.js"},"experience":{"src":"https://api.lytics.io/api/experience/preview/6f5bc1e3c0fc9439065eb72c1c3eedd8/{id}/config.js"}},"publish":{"disabled":false,"legacy":{"disabled":false,"src":"https://c.lytics.io/api/program/campaign/config/6f5bc1e3c0fc9439065eb72c1c3eedd8/config.js"},"urlFragmentWhitelist":["casaideas-mexico.mx","www.casaideas-mexico.mx","presidenteicmexico.com","www.presidenteicmexico.com"],"src":"https://c.lytics.io/api/experience/candidate/6f5bc1e3c0fc9439065eb72c1c3eedd8/config.js","polling":{}}},"poll":{},"qubit":{"dataLayerPull":{"disabled":true}},"salesforce":{"dmp":{"disabled":true}},"segments":{},"send":{"pageViewOnFirst":true},"taboola":{"dmp":{"disabled":true}},"tealium":{"dataLayerPull":{"disabled":true}},"thetradedesk":{"dsp":{"disabled":true}},"yahoo":{"datax":{"disabled":true}}};